Why hello, moe, how are you?
Why hello, larry, how are you?
Why hello, curly, how are you?
This content came from a text file.

This content came from a text file.

456
123
<h1>Test Results: aa_macro.py</h1>

<h2>Text Formatting</h2>

<h3>HTML 4.01s Mode:</h3>
<p><span style="font-weight: bold;">bold text</span></p>
<p><span style="font-style: italic;">italic text</span></p>
<p><span style="text-decoration: underline;">underlined text</span></p>
<p><span style="background-color: #002288; color: #887766;">color3</span></p>
<p><span style="background-color: #002288; color: #FEDCBA;">color6</span></p>
<h3>HTML 3.2 Mode:</h3>
<p><u><i><b>Why hello, Ben, how are you?</b></i></u></p>
<p><font color="#887766">color3</font></p>
<p><font color="#FEDCBA">color6</font></p>

<h2>linking</h2>
<p><a href="http://fyngyrz.com">http://fyngyrz.com</a></p>
<p><a target="_blank" href="http://fyngyrz.com">http://fyngyrz.com</a></p>
<p><a target="_blank" href="http://fyngyrz.com">My Link</a></p>
<p><a href="http://fyngyrz.com">My Other Link</a></p>
<p><a href="web" target="_blank">On The Web</a></p>
<p><a href="http://fyngyrz.com" target="_blank">Another Link</a></p>
<p><a href="link" target="_blank">link</a></p>
<p><a href="http://fyngyrz.com" target="_blank">Another Link</a></p>
hi%2C+Fred+%26+linda

<h2>Images</h2>
<h3>No size, no local lookup so no relative path</h3>
<p><a href="http://fyngyrz.com" target="_blank"><img src="http://fyngyrz.com/images/beachflag.png" alt="" title=""></a></p>
<p><img src="http://fyngyrz.com/images/beachflag.png" alt="" title=""></p>
<p><img alt="Beach Flag" title="Beach Flag" src="http://fyngyrz.com/images/beachflag.png"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img alt="Beach Flag" title="Beach Flag" src="http://fyngyrz.com/images/beachflag.png"></a></p>

<h3>Size, identical (empty) relative path</h3>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" src="test.png" alt="" title=""></a></p>
<p><img width="291" height="407" src="test.png" alt="" title=""></p>
<p><img width="291" height="407" alt=".png Test" title=".png Test" src="test.png"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" alt=".png Test" title=".png Test" src="test.png"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" src="test.jpg" alt="" title=""></a></p>
<p><img width="207" height="346" src="test.jpg" alt="" title=""></p>
<p><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="test.jpg"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="test.jpg"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" src="test.gif" alt="" title=""></a></p>
<p><img width="40" height="40" src="test.gif" alt="" title=""></p>
<p><img width="40" height="40" alt=".gif Test" title=".gif Test" src="test.gif"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" alt=".gif Test" title=".gif Test" src="test.gif"></a></p>

<h3>Size, relative path only</h3>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" src="test.png" alt="" title=""></a></p>
<p><img width="291" height="407" src="test.png" alt="" title=""></p>
<p><img width="291" height="407" alt=".png Test" title=".png Test" src="test.png"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" alt=".png Test" title=".png Test" src="test.png"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" src="test.jpg" alt="" title=""></a></p>
<p><img width="207" height="346" src="test.jpg" alt="" title=""></p>
<p><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="test.jpg"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="test.jpg"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" src="test.gif" alt="" title=""></a></p>
<p><img width="40" height="40" src="test.gif" alt="" title=""></p>
<p><img width="40" height="40" alt=".gif Test" title=".gif Test" src="test.gif"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" alt=".gif Test" title=".gif Test" src="test.gif"></a></p>

<h3>Size, relative path and http path</h3>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" src="randomdir/test.png" alt="" title=""></a></p>
<p><img width="291" height="407" src="randomdir/test.png" alt="" title=""></p>
<p><img width="291" height="407" alt=".png Test" title=".png Test" src="randomdir/test.png"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="291" height="407" alt=".png Test" title=".png Test" src="randomdir/test.png"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" src="randomdir/test.jpg" alt="" title=""></a></p>
<p><img width="207" height="346" src="randomdir/test.jpg" alt="" title=""></p>
<p><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="randomdir/test.jpg"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="207" height="346" alt=".jpg Test" title=".jpg Test" src="randomdir/test.jpg"></a></p>

<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" src="randomdir/test.gif" alt="" title=""></a></p>
<p><img width="40" height="40" src="randomdir/test.gif" alt="" title=""></p>
<p><img width="40" height="40" alt=".gif Test" title=".gif Test" src="randomdir/test.gif"></p>
<p><a href="http://fyngyrz.com" target="_blank"><img width="40" height="40" alt=".gif Test" title=".gif Test" src="randomdir/test.gif"></a></p>

<h2>Multiple Style Invocation</h2>
aXa
bXb
aXabYb
cXc
dXd
cXcdYd
aXa
bXb
cXc
dXd
aWabXbcYcdXd
aJabKbcLcdMd

aNabObcPcdQd
aAabSb
cBcdTd
aAabSbcIcdAd

<h2>HTML Lists</h2>
<p><ul>
<li>item1</li>
<li>item2</li>
</ul>
</p>
<p><ul>
<li>item1</li>
<li>item2</li>
<li>item3</li>
</ul>
</p>
<p><ul>
<li><u>item1</u></li>
<li><u>item2</u></li>
</ul>
</p>
<p><ul>
<li><u>itemW</u></li>
<li><u>itemX</u></li>
</ul>
</p>
<p><ul>
<li><u>itemY</u></li>
<li><u>itemZ</u></li>
</ul>
</p>
<p><ol>
<li>item1</li>
<li>item2</li>
</ol>
</p>
<p>item1<br></p>
<p><ul>
<li>item1</li>
<li>item2</li>
</ul>
</p>
<p>item1<br></p>
<p><ol>
<li>item1</li>
<li>item2</li>
</ol>
</p>
<p>abc</p>
<p><code>a</code><code>b</code><code>c</code></p>
<p><code>d</code><code>e</code><code>f</code></p>

<ul>
<li style="color:#ff0000">a</li>
<li style="color:#ff0000">b</li>
<li style="color:#ff0000">c</li>
</ul>

<ul style="font-weight: bold;">
<li>a</li>
<li>b</li>
<li>c</li>
</ul>

<ul style="margin-bottom: .5em;">
<li style="color:#00ff00">a</li>
<li style="color:#00ff00">b</li>
<li style="color:#00ff00">c</li>
</ul>


<span style="color:#ff0000">item1</span><br>
<ul>
<li style="color:#ff0000">item1</li>
<li style="color:#ff0000">item2</li>
</ul>

<span style="color:#ff0000">item1</span><br>
<ol>
<li style="color:#ff0000">item1</li>
<li style="color:#ff0000">item2</li>
</ol>


item1<br>
<ul style="font-weight: bold;">
<li>item1</li>
<li>item2</li>
</ul>

item1<br>
<ol style="font-weight: bold;">
<li>item1</li>
<li>item2</li>
</ol>


<span style="color:#00ff00">item1</span><br>
<ul style="margin-bottom: .5em;">
<li style="color:#00ff00">item1</li>
<li style="color:#00ff00">item2</li>
</ul>

<span style="color:#00ff00">item1</span><br>
<ol style="margin-bottom: .5em;">
<li style="color:#00ff00">item1</li>
<li style="color:#00ff00">item2</li>
</ol>


<h2>Tables</h2>
<table>
<tr><th>col 1</th><th>col 2</th></tr>
<tr><td>test1</td><td>test2</td></tr>
</table>
<table border=0>
<tr><th bgcolor="#ffffff">col 1</th><th>col 2</th></tr>
<tr bgcolor="#888888"><td>test1</td><td align="center"> test2</td></tr>
</table>

<h2>Variables</h2>
<p>
bar
bong
barbipbar
bipbip Hooray!
2
1
1
2
1
</p>

<h2>stack</h2>
<p>
stack="X"
stack="Z","Y",X"
stack="","","bugger"
stack="","",""
stack 1="Y"
"","","","","five"
</p>

<h2>Math</h2>
<p>
5
1
15
8
2
9
max 5 10 = 10
max 9 4 = 9
min 5 10 = 5
min 4 9 = 4
stage 100 50 10 5 = 75
stage 50 75 10 5 = 62
stage mode=float,digits=1,0 1 10 5 = 0.5
stage mode=float,digits=3,0 1 10 10 = 1.000
stage mode=float,0 1.5 3 2 = 1.00
stage mode=float,2.5 3.5 2 1 = 3.00
stage mode=float,digits=6,0 10 3 1 = 3.333333
stage mode=float,.5 .75 5 2 = 0.60
stage mode=float,0 1 10 5.5 = 0.55
</p>

<h2>Conditionals</h2>
<p>
EVEN
ODD
Match
sepMatch
comMatch
No sepMatch
No comMatch
No Match
1: --Match--
2: --No Match--
1 Something
2 Something
3 !EMPTY!
4 !EMPTY!
5 !EMPTY!
6 !EMPTY!
7 Something
8 Something
Something
!EMPTY!
</p>

<h2>Parsing and text processing</h2>

 (Unknown Built-in or Squiggly:  tag="p
monkeytest2
test3
foo" data="bar bleep bloptest 4
I WAS LOWER, BUT NOW AM HIGH
i was higher, but now am brought low
I have a CDXXVII Hemi ox-cart
BEN
1,234,567,890
12,345,678.90
17 dec to hex: 11
 9 dec to oct: 11
 3 dec to bin: 11
11 hex to dec: 17
11 oct to dec: 9
11 bin to dec: 3
97 hex to binary: 10010111
11010110 to hex: D6

7 dec to hex 2-digits: 07
7 dec to oct 3-digits: 007
9 dec to bin 8-digits: 00001001
11 hex to dec 3-digits: 017
11 oct to dec 3-digits: 009
11 bin to dec 3-digits: 003

should be "tothis": "tothis"
should be no content: ""
should be "tothat": "tothat"
should be no content: ""
stripe charset=xy,xytestingyx = testing
414243
0x41.&#44; 0x42.&#44; 0x43.

content:
this is a test
of the emergency broadcast system
lines: 2
words: 9
chars: 48
2
9
48
<b>style <font color="#FF8844">me</font></b>
<i>style <font color="#FF8844">me</font></i>
<u>style <font color="#FF8844">me</font></u>

content: thaAAAaaas right all
a: 8
aa: 3
overlaps=yes,aa: 6
sep=|,overlaps=yes,aa: 6
casesens=yes,aa: 1
casesens=yes,AA: 1
overlaps=yes,casesens=yes,AA: 2
sep=|,overlaps=yes,casesens=yes,AA: 2
Knuth Soundex: K530
Asimov Soundex: A251
Clarke Soundex: C462
Einstein Soundex: E523

content: <font color="#556677">testing <b>1 <i>2</i> 3</b></font>
stripped of tags: testing 1 2 3
Hamcalls:
N2MGA
W2GGI Robert
w2jvm Harold
W3OZ Larry
KE4TP-Pete
N5CST!Johann!
AA7AS,Ben
") 

<h2>aa_macro and Python Parsing</h2>
<span style="color: #00ff00"></span>
<span style="color: #00ff00"><span style="color: #ff00ff">from</span> aa_macro <span style="color: #ff00ff">import</span> <span style="color:#00ffff;">*</span></span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">mod <span style="color:#00ffff;">=</span> macro<span style="color:#ff8844;">(</span><span style="color:#ff8844;">)</span></span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">inputtext <span style="color:#00ffff;">=</span> </span><span style="color: #ffffff">'</span><span style="color: #ff0000">&#91;i print \'some\' "content" from here&#93;&#91;local foo bar&#93;</span><span style="color: #ffffff">'</span><span style="color: #00ff00"></span>
<span style="color: #00ff00">outputext <span style="color:#00ffff;">=</span> mod<span style="color:#00ffff;">.</span>do<span style="color:#ff8844;">(</span>inputtext<span style="color:#ff8844;">)</span></span>
<span style="color: #00ff00"><span style="color: #ff00ff">print</span> outputtext</span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">inputtext <span style="color:#00ffff;">=</span> </span><span style="color: #ffffff">"</span><span style="color: #ff0000">&#91;b \"more\" 'content'&#93; &#91;v foo&#93;</span><span style="color: #ffffff">"</span><span style="color: #00ff00">  </span><span style="color: #ffff00"># as we're using the same object, anything...</span>
<span style="color: #00ff00">outputext <span style="color:#00ffff;">=</span> mod<span style="color:#00ffff;">.</span>do<span style="color:#ff8844;">(</span>inputtext<span style="color:#ff8844;">)</span>           </span><span style="color: #ffff00"># ...set up in it is still in context here</span>
<span style="color: #00ff00"><span style="color: #ff00ff">print</span> outputtext</span>
<span style="color: #00ff00"></span>

<span style="color: #00ff00"></span>
<span style="color: #00ff00"><span style="color: #ff00ff">from</span> aa_macro <span style="color: #ff00ff">import</span> <span style="color:#00ffff;">*</span></span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">mod <span style="color:#00ffff;">=</span> macro<span style="color:#ff8844;">(</span><span style="color:#ff8844;">)</span></span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">inputtext <span style="color:#00ffff;">=</span> </span><span style="color: #ffffff">'</span><span style="color: #ff0000">[lb]i print \'some\' "content" from here[rb][lb]local foo bar[rb]</span><span style="color: #ffffff">'</span><span style="color: #00ff00"></span>
<span style="color: #00ff00">outputext <span style="color:#00ffff;">=</span> mod<span style="color:#00ffff;">.</span>do<span style="color:#ff8844;">(</span>inputtext<span style="color:#ff8844;">)</span></span>
<span style="color: #00ff00"><span style="color: #ff00ff">print</span> outputtext</span>
<span style="color: #00ff00"></span>
<span style="color: #00ff00">inputtext <span style="color:#00ffff;">=</span> </span><span style="color: #ffffff">"</span><span style="color: #ff0000">[lb]b \"more\" 'content'[rb] [lb]v foo[rb]</span><span style="color: #ffffff">"</span><span style="color: #00ff00">  </span><span style="color: #ffff00"># as we're using the same object, anything...</span>
<span style="color: #00ff00">outputext <span style="color:#00ffff;">=</span> mod<span style="color:#00ffff;">.</span>do<span style="color:#ff8844;">(</span>inputtext<span style="color:#ff8844;">)</span>           </span><span style="color: #ffff00"># ...set up in it is still in context here</span>
<span style="color: #00ff00"><span style="color: #ff00ff">print</span> outputtext</span>
<span style="color: #00ff00"></span>


<br>
&lt;div style=&quot;<br>
       width: 75%;<br>
border-style: solid;<br>
  background: #ffffff;<br>
  text-align: center;<br>
     padding: .5em;<br>
      margin: auto;<br>
&quot;&gt;<br>
&#91;i Keyboard Navigation&#93;<br>
&lt;hr width=&quot;75%&quot;&gt;<br>
&#123;key ,&#125; Previous Page<br>
&#123;key .&#125; Next Page<br>
&#123;key t&#125; TOC<br>
&#123;key i&#125; Index<br>
&lt;/div&gt;

<h2>switch/case</h2>
switch (csep=X,)(isep=Y,)(default=styleName,)switchName caseXstyleName(YcaseXstylename)
foo(bah)bar
bar(humbug)foo
dude:shhhh!
remark:"speaking extemporaneously"
foo(with-foo)bar
bar(with-bar)foo
??with-nothing??

<h2>for/in</h2>
0 2 4 6 8 

a c d c 

<h2>Data Lists</h2>
slicetest list: a2c4e6g8
1 = 2
2:3 = c
:4 = a2c4
4: = e6g8
::-1 = 8g6e4c2a
efghi
efghik
k
i
g
efh
list length of a,b,c: 3
c b a
C aircraft A amphetamine
AaircraftCamphetamine
"A" "aircraft" "C" "amphetamine" 
B
ALPHA
-a-LPH-a-
"larry" "ben" "Beth" "alan" "leroy" 
"Beth" "alan" "ben" "larry" "leroy" 
"alan" "ben" "Beth" "larry" "leroy" 
"44,larry" "1,ben" "2,Beth" "3,alan,smith" "5,leroy" 
"1,ben" "2,Beth" "3,alan,smith" "5,leroy" "44,larry" 
"ben" "Beth" "alan,smith" "leroy" "larry" 

line 1line 2line3

Word wrap at 72 columns
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 
this is line one this is line two this is line three this is line four
and I'm really not kidding about this at all, no fooling, folks and this
is the last line

Word wrap at 31 columns
123456789 123456789 123456789 123456789 
this is line one this is line
two this is line three this is
line four and I'm really not
kidding about this at all, no
fooling, folks and this is the
last line

Word wrap at 72 columns, with style
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 
(this is line one this is line two this is line three this is line four)
(and I'm really not kidding about this at all, no fooling, folks and this)
(is the last line)

Word wrap at 31 columns, with style
123456789 123456789 123456789 123456789 
(this is line one this is line)
(two this is line three this is)
(line four and I'm really not)
(kidding about this at all, no)
(fooling, folks and this is the)
(last line)

Word wrap with HTML
123456789 123456789 123456789 
This is a <b>test</b> of the
emergency <font
color="#ff0000">broadcast
system</font>. This is
<i>only</i> a test. If this
had been a real emergency, you
would have been instructed to
weep in abject fear.


Word wrap with HTML, but not counting it
123456789 123456789 123456789 
This is a <b>test</b> of the
emergency <font color="#ff0000">broadcast system</font>.
This is <i>only</i> a test. If this
had been a real emergency, you
would have been instructed to
weep in abject fear.


Unsorted list:
--------------
W3OZ Larry
N2MGA
AA7AS Ben
w2jvm Harold
W2GGI Robert
N5CST!Johann!
KE4TP-Pete

Sorted List:
------------
N2MGA
W2GGI Robert
w2jvm Harold
W3OZ Larry
KE4TP-Pete
N5CST!Johann!
AA7AS Ben

first, middle and last styles
-----------------------------
-a :b: :c: d-
With nice interspersion:
------------------------
W3Oz (Larry), N5CST (Johann), aa7as (Ben)

<h2>Data Dictionaries</h2>
'
gee="whiz"
foo="bar"
bip=""
resetting foo...\n'
foo="guggle"

<h2>Text Processing</h2>
foofoofoo
barbarbarbarbar
1:blarg 2:blarg 3:blarg 4:blarg 5:blarg
testing 3
5
9
you bar this
mark, larry, or leroy
--four
 three
&nbsp;&nbsp;&nbsp;foo
'--bar' odd in odd, left side pad only
'--xyz--' odd in odd, pad both sides
'-wxyz--' even in odd, pad both sides
'--xyz---' odd in even, pad both sides
Joe and the Dog
The Exception
Tropic of Consumption
Joe and a Dog
Joe And A Dog
Joe and a dog

I prefer HTML, and Python, to HTML and PHP.
1234-5678-90
12-3456-7890
Marge
ben
fred
larry
zander

ben
fred
larry
Marge
zander

1,ben
2,larry
3,Marge
4,zander
5,fred

<h2>Escapes</h2>
&#44;
&#124;
&lt;&#32;&gt;
&#91;&#32;&#93;
&#123;&#32;&#125;
<h2>Miscellanea</h2>
<p>

two two test1
three three three 
three again: three again: three again: 
five five five five five 
two two 
</p>

<p>
&#60;h3&#62;&#91;b&#93;&#60;/h3&#62;
Third-level title &#60;i&#62;&#91;b&#93;&#60;/i&#62;
&#60;h3&#62;&#91;b&#93;&#60;/h3&#62;
<h3>humma humma</h3>
</p>
Gee whiz, this  is //really// messed up!: Darn it, this is //truly// foo bar!
Befunked, afraid -- and *clueless*. = Bewildered, nervous -- and *confused*.
This person is a flaming-idiot!
<p>

<HTML>
<HEAD>
<TITLE>aagen Example</TITLE>
</HEAD>
<BODY>
<p>
Why hello, Ebenezer, how are you?
</p>
</BODY>
</HTML>

happy extension: this is a good thing :)
unhappy extension: this is a bad thing :(
back-reference to parent by embraced module: a, an, the, at, by, for, in, of, on, to, up, and, as, but, or, nor
Replacement of &#91;i&#93;: <em>emphasize me</em>
abcdef
abcdef
&quot;She &amp; me &amp; some Tequila&quot;
</p>
if 5 <= 4 lte = 
if 5 <= 5 lte = lte
if 5 <= 6 lte = lte
if 5 >= 4 gte = gte
if 5 >= 5 gte = gte
if 5 >= 6 gte = 
shell test

-----
foobar, brother and again: foobar, brother
-----
-----
, and again: ,
-----

-----
st nd rd th
1st 2nd 3rd 4th

CD
MartyLarryBenGeorge
Ben: AA7AS
George: W4KVU
Larry: W3OZ
Marty: KA7GKN
barbeque dolly

// plugin_demo.c
// -------------
// tab stops every 4 spaces

#include &lt;math.h&gt;
#include &lt;string.h&gt;
#include &quot;developer.h&quot;

void pengine(struct plug *p,long start,long finish,struct pkg *(*service)(struct req *p))&nbsp;&nbsp;&nbsp;// sets 64K remap
[ls]
long i,v,b;

&nbsp;&nbsp;&nbsp;&nbsp;b = (p-&gt;f[lb]0[rb] - 100.0f) * 655.35f;&nbsp;&nbsp;&nbsp;// b is now [lb]-65535...65535[rb]
&nbsp;&nbsp;&nbsp;&nbsp;for (i = start; i &lt; finish; i++)&nbsp;&nbsp;&nbsp;&nbsp;// we set this range to [lb]0...65536[rb]
&nbsp;&nbsp;&nbsp;&nbsp;[ls]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v = i + b;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// temp brightness adjust;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (v &lt; 0) v = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// now limit remap range...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (v &gt; 65535) v = 65535;&nbsp;&nbsp;&nbsp;// ...to acceptable bounds
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;lr[lb]i[rb] = v;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// install in remap channel
&nbsp;&nbsp;&nbsp;&nbsp;[rs]
[rs]

void dengine(struct plug *p,long start,long finish,struct pkg *(*service)(struct req *p))&nbsp;&nbsp;&nbsp;// generates output
[ls]
long i;

&nbsp;&nbsp;&nbsp;&nbsp;for (i = start; i &lt; finish; i++) // 1-dimensional pixel processing
&nbsp;&nbsp;&nbsp;&nbsp;[ls]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;sr[lb]i[rb] = p-&gt;lr[lb]p-&gt;mr[lb]i[rb][rb];&nbsp;// remap pixel brightness
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;sg[lb]i[rb] = p-&gt;lr[lb]p-&gt;mg[lb]i[rb][rb];&nbsp;// ...using 64k table in layer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;sb[lb]i[rb] = p-&gt;lr[lb]p-&gt;mb[lb]i[rb][rb];&nbsp;// ...
&nbsp;&nbsp;&nbsp;&nbsp;[rs]
[rs]

void setup(struct plugin *p)&nbsp;&nbsp;&nbsp;&nbsp;// NOTE: most struct elements are preset to 0,
[ls]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// if that is the setting you need, it's there.
#include &quot;ak_pu_date.txt&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// this inserts the current date in the plugin

&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;layer_pri&nbsp;&nbsp;&nbsp;&nbsp;= 9500;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// layer priority (posit in fx stack - see developer.h)
&nbsp;&nbsp;&nbsp;&nbsp;strcpy(p-&gt;panel.n,&quot;Brightness&quot;);&nbsp;&nbsp;&nbsp;&nbsp;// name appearing on panel
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;pthread[lb]0[rb]&nbsp;&nbsp;&nbsp;= 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// plugin desires pengine() threading
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;prange_methods[lb]0[rb]= 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// custom range for pengine()
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;pfinish[lb]0[rb]&nbsp;&nbsp;&nbsp;= 65536;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// end+1 range for pengine() to process
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;dthread[lb]0[rb]&nbsp;&nbsp;&nbsp;= 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// plugin desires dengine() threading
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;promotable&nbsp;&nbsp;&nbsp;= 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// BUT user can add alpha, paint
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;req_lr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 65536;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// we'd like 1 layer of this size in lr
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;slider_req&nbsp;&nbsp;&nbsp;= 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// we'd like 1 slider (#0)
&nbsp;&nbsp;&nbsp;&nbsp;strcpy(p-&gt;sliders[lb]0[rb].n,&quot;Intensity&quot;);// legend for slider
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;forder[lb]0[rb]&nbsp;&nbsp;&nbsp;&nbsp;= 20;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// position on line zero
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;svalues[lb]0[rb]&nbsp;&nbsp;&nbsp;= 100.0f;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// initial value
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;zvalues[lb]0[rb]&nbsp;&nbsp;&nbsp;= 200.0f;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// initial hi value (user settable)
&nbsp;&nbsp;&nbsp;&nbsp;p-&gt;ticks[lb]0[rb] = 21;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Ten ticks per hundred
[rs]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// (low values default to 0.0f)

void init(struct plug *pl,struct pkg *(*service)(struct req *p)) // called before pengine() and dengine()
[ls]
struct req r;
struct pkg *p;
char *msg = &quot;demo plugin init&quot;;
&nbsp;&nbsp;&nbsp;&nbsp;// the following just demonstrates using the service function
&nbsp;&nbsp;&nbsp;&nbsp;r.svc = REQ_STATUS;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// request status line message service
&nbsp;&nbsp;&nbsp;&nbsp;r.p1 = msg;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// set up request with proper parameter
&nbsp;&nbsp;&nbsp;&nbsp;p = service(&amp;r);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// send msg to status line, get package back
[rs]

void cleanup(struct plug *pl,struct pkg *(*service)(struct req *p))&nbsp;// called after all pengine() and dengine threads complete
[ls]
struct req r;
struct pkg *p;
char *msg = &quot;demo plugin cleanup&quot;;
&nbsp;&nbsp;&nbsp;&nbsp;// the following just demonstrates using the service function
&nbsp;&nbsp;&nbsp;&nbsp;r.svc = REQ_STATUS;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// request status line message service
&nbsp;&nbsp;&nbsp;&nbsp;r.p1 = msg;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// set up request with proper parameter
&nbsp;&nbsp;&nbsp;&nbsp;p = service(&amp;r);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// send msg to status line, get package back
[rs]

<span style="color: #888888">// plugin_demo.c
</span><span style="color: #888888">// -------------
</span><span style="color: #888888">// tab stops every 4 spaces
</span><span style="color: #4488ff">
</span><span style="color: #ff0000">#include</span> <span style="color: #4488ff">&lt;</span>math<span style="color: #4488ff">.</span>h<span style="color: #4488ff">&gt;
</span><span style="color: #ff0000">#include</span> <span style="color: #4488ff">&lt;</span>string<span style="color: #4488ff">.</span>h<span style="color: #4488ff">&gt;
</span><span style="color: #ff0000">#include</span> <span style="color: #ffffff">&quot;developer.h&quot;</span><span style="color: #4488ff">
</span><span style="color: #4488ff">
</span><span style="color: #ff8844">void</span> pengine<span style="color: #4488ff">(</span><span style="color: #ff8844">struct</span> plug <span style="color: #4488ff">*</span>p<span style="color: #4488ff">,</span><span style="color: #ff8844">long</span> start<span style="color: #4488ff">,</span><span style="color: #ff8844">long</span> finish<span style="color: #4488ff">,</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*(*</span>service<span style="color: #4488ff">)(</span><span style="color: #ff8844">struct</span> req <span style="color: #4488ff">*</span>p<span style="color: #4488ff">))</span>&nbsp;&nbsp;&nbsp;<span style="color: #888888">// sets 64K remap
</span><span style="color: #4488ff">[ls]
</span><span style="color: #ff8844">long</span> i<span style="color: #4488ff">,</span>v<span style="color: #4488ff">,</span>b<span style="color: #4488ff">;
</span><span style="color: #4488ff">
</span>&nbsp;&nbsp;&nbsp;&nbsp;b <span style="color: #4488ff">=</span> <span style="color: #4488ff">(</span>p<span style="color: #4488ff">-&gt;</span>f<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">-</span> 100<span style="color: #4488ff">.</span>0f<span style="color: #4488ff">)</span> <span style="color: #4488ff">*</span> 655<span style="color: #4488ff">.</span>35f<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;<span style="color: #888888">// b is now [lb]-65535...65535[rb]
</span>&nbsp;&nbsp;&nbsp;&nbsp;for <span style="color: #4488ff">(</span>i <span style="color: #4488ff">=</span> start<span style="color: #4488ff">;</span> i <span style="color: #4488ff">&lt;</span> finish<span style="color: #4488ff">;</span> i<span style="color: #4488ff">++)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// we set this range to [lb]0...65536[rb]
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">[ls]
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v <span style="color: #4488ff">=</span> i <span style="color: #4488ff">+</span> b<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// temp brightness adjust;
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if <span style="color: #4488ff">(</span>v <span style="color: #4488ff">&lt;</span> 0<span style="color: #4488ff">)</span> v <span style="color: #4488ff">=</span> 0<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// now limit remap range...
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if <span style="color: #4488ff">(</span>v <span style="color: #4488ff">&gt;</span> 65535<span style="color: #4488ff">)</span> v <span style="color: #4488ff">=</span> 65535<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;<span style="color: #888888">// ...to acceptable bounds
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>lr<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">=</span> v<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// install in remap channel
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">[rs]
</span><span style="color: #4488ff">[rs]
</span><span style="color: #4488ff">
</span><span style="color: #ff8844">void</span> dengine<span style="color: #4488ff">(</span><span style="color: #ff8844">struct</span> plug <span style="color: #4488ff">*</span>p<span style="color: #4488ff">,</span><span style="color: #ff8844">long</span> start<span style="color: #4488ff">,</span><span style="color: #ff8844">long</span> finish<span style="color: #4488ff">,</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*(*</span>service<span style="color: #4488ff">)(</span><span style="color: #ff8844">struct</span> req <span style="color: #4488ff">*</span>p<span style="color: #4488ff">))</span>&nbsp;&nbsp;&nbsp;<span style="color: #888888">// generates output
</span><span style="color: #4488ff">[ls]
</span><span style="color: #ff8844">long</span> i<span style="color: #4488ff">;
</span><span style="color: #4488ff">
</span>&nbsp;&nbsp;&nbsp;&nbsp;for <span style="color: #4488ff">(</span>i <span style="color: #4488ff">=</span> start<span style="color: #4488ff">;</span> i <span style="color: #4488ff">&lt;</span> finish<span style="color: #4488ff">;</span> i<span style="color: #4488ff">++)</span> <span style="color: #888888">// 1-dimensional pixel processing
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">[ls]
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>sr<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">=</span> p<span style="color: #4488ff">-&gt;</span>lr<span style="color: #4488ff">[lb]</span>p<span style="color: #4488ff">-&gt;</span>mr<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb][rb];</span>&nbsp;<span style="color: #888888">// remap pixel brightness
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>sg<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">=</span> p<span style="color: #4488ff">-&gt;</span>lr<span style="color: #4488ff">[lb]</span>p<span style="color: #4488ff">-&gt;</span>mg<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb][rb];</span>&nbsp;<span style="color: #888888">// ...using 64k table in layer
</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>sb<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">=</span> p<span style="color: #4488ff">-&gt;</span>lr<span style="color: #4488ff">[lb]</span>p<span style="color: #4488ff">-&gt;</span>mb<span style="color: #4488ff">[lb]</span>i<span style="color: #4488ff">[rb][rb];</span>&nbsp;<span style="color: #888888">// ...
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">[rs]
</span><span style="color: #4488ff">[rs]
</span><span style="color: #4488ff">
</span><span style="color: #ff8844">void</span> setup<span style="color: #4488ff">(</span><span style="color: #ff8844">struct</span> plugin <span style="color: #4488ff">*</span>p<span style="color: #4488ff">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// NOTE: most struct elements are preset to 0,
</span><span style="color: #4488ff">[ls]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// if that is the setting you need, it's there.
</span><span style="color: #ff0000">#include</span> <span style="color: #ffffff">&quot;ak_pu_date.txt&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// this inserts the current date in the plugin
</span><span style="color: #4488ff">
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>layer<span style="color: #4488ff">_</span>pri&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 9500<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// layer priority (posit in fx stack - see developer.h)
</span>&nbsp;&nbsp;&nbsp;&nbsp;strcpy<span style="color: #4488ff">(</span>p<span style="color: #4488ff">-&gt;</span>panel<span style="color: #4488ff">.</span>n<span style="color: #4488ff">,</span><span style="color: #ffffff">&quot;Brightness&quot;</span><span style="color: #4488ff">);</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// name appearing on panel
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>pthread<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 1<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// plugin desires pengine() threading
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>prange<span style="color: #4488ff">_</span>methods<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]=</span> 2<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// custom range for pengine()
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>pfinish<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 65536<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// end+1 range for pengine() to process
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>dthread<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 1<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// plugin desires dengine() threading
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>promotable&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 1<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// BUT user can add alpha, paint
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>req<span style="color: #4488ff">_</span>lr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 65536<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// we'd like 1 layer of this size in lr
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>slider<span style="color: #4488ff">_</span>req&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 1<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// we'd like 1 slider (#0)
</span>&nbsp;&nbsp;&nbsp;&nbsp;strcpy<span style="color: #4488ff">(</span>p<span style="color: #4488ff">-&gt;</span>sliders<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb].</span>n<span style="color: #4488ff">,</span><span style="color: #ffffff">&quot;Intensity&quot;</span><span style="color: #4488ff">);</span><span style="color: #888888">// legend for slider
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>forder<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 20<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// position on line zero
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>svalues<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 100<span style="color: #4488ff">.</span>0f<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// initial value
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>zvalues<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span>&nbsp;&nbsp;&nbsp;<span style="color: #4488ff">=</span> 200<span style="color: #4488ff">.</span>0f<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// initial hi value (user settable)
</span>&nbsp;&nbsp;&nbsp;&nbsp;p<span style="color: #4488ff">-&gt;</span>ticks<span style="color: #4488ff">[lb]</span>0<span style="color: #4488ff">[rb]</span> <span style="color: #4488ff">=</span> 21<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// Ten ticks per hundred
</span><span style="color: #4488ff">[rs]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// (low values default to 0.0f)
</span><span style="color: #4488ff">
</span><span style="color: #ff8844">void</span> init<span style="color: #4488ff">(</span><span style="color: #ff8844">struct</span> plug <span style="color: #4488ff">*</span>pl<span style="color: #4488ff">,</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*(*</span>service<span style="color: #4488ff">)(</span><span style="color: #ff8844">struct</span> req <span style="color: #4488ff">*</span>p<span style="color: #4488ff">))</span> <span style="color: #888888">// called before pengine() and dengine()
</span><span style="color: #4488ff">[ls]
</span><span style="color: #ff8844">struct</span> req r<span style="color: #4488ff">;
</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*</span>p<span style="color: #4488ff">;
</span><span style="color: #ff8844">char</span> <span style="color: #4488ff">*</span>msg <span style="color: #4488ff">=</span> <span style="color: #ffffff">&quot;demo plugin init&quot;</span><span style="color: #4488ff">;
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// the following just demonstrates using the service function
</span>&nbsp;&nbsp;&nbsp;&nbsp;r<span style="color: #4488ff">.</span>svc <span style="color: #4488ff">=</span> REQ<span style="color: #4488ff">_</span>STATUS<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// request status line message service
</span>&nbsp;&nbsp;&nbsp;&nbsp;r<span style="color: #4488ff">.</span>p1 <span style="color: #4488ff">=</span> msg<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// set up request with proper parameter
</span>&nbsp;&nbsp;&nbsp;&nbsp;p <span style="color: #4488ff">=</span> service<span style="color: #4488ff">(&amp;</span>r<span style="color: #4488ff">);</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// send msg to status line, get package back
</span><span style="color: #4488ff">[rs]
</span><span style="color: #4488ff">
</span><span style="color: #ff8844">void</span> cleanup<span style="color: #4488ff">(</span><span style="color: #ff8844">struct</span> plug <span style="color: #4488ff">*</span>pl<span style="color: #4488ff">,</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*(*</span>service<span style="color: #4488ff">)(</span><span style="color: #ff8844">struct</span> req <span style="color: #4488ff">*</span>p<span style="color: #4488ff">))</span>&nbsp;<span style="color: #888888">// called after all pengine() and dengine threads complete
</span><span style="color: #4488ff">[ls]
</span><span style="color: #ff8844">struct</span> req r<span style="color: #4488ff">;
</span><span style="color: #ff8844">struct</span> pkg <span style="color: #4488ff">*</span>p<span style="color: #4488ff">;
</span><span style="color: #ff8844">char</span> <span style="color: #4488ff">*</span>msg <span style="color: #4488ff">=</span> <span style="color: #ffffff">&quot;demo plugin cleanup&quot;</span><span style="color: #4488ff">;
</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// the following just demonstrates using the service function
</span>&nbsp;&nbsp;&nbsp;&nbsp;r<span style="color: #4488ff">.</span>svc <span style="color: #4488ff">=</span> REQ<span style="color: #4488ff">_</span>STATUS<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// request status line message service
</span>&nbsp;&nbsp;&nbsp;&nbsp;r<span style="color: #4488ff">.</span>p1 <span style="color: #4488ff">=</span> msg<span style="color: #4488ff">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// set up request with proper parameter
</span>&nbsp;&nbsp;&nbsp;&nbsp;p <span style="color: #4488ff">=</span> service<span style="color: #4488ff">(&amp;</span>r<span style="color: #4488ff">);</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888">// send msg to status line, get package back
</span><span style="color: #4488ff">[rs]
</span>
